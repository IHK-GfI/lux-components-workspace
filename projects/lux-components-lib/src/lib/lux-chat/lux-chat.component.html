<div class="lux-chat">
    <div class="lux-chat-layout-vertical">
        <!-- Sidebars top -->

        <div class="lux-chat-layout-horizontal">
            <!-- Sidebars left -->

            <div class="lux-chat-layout-container">
                <!-- <div class="lux-chat-layout-container-inner"> -->
                    @if (chatHeader) {
                        <ng-content select="lux-chat-header"></ng-content>
                    }
                    @else{
                        <lux-chat-header>
                            <p class="default-chat-header-title">
                                <b>{{ chatData?.title }}</b><br/>
                                Erstellt am: <b>{{ chatData?.created_at | date:'dd.MM.yyyy, HH:mm:ss' }}</b>
                            </p>
                        </lux-chat-header>
                    }
                    
                    <lux-divider></lux-divider>

                    <div class="lux-chat-base">
                        @for (item of chatData?.data; track $index) {
                            <ng-container *ngTemplateOutlet="chatEntry?.templateRef ?? defaultEntry.templateRef; context: { $implicit: item }"></ng-container>
                        }
                    </div>

                    @if(chatInput){
                        <ng-content select="lux-chat-input"></ng-content>
                    }
                    @else {
                        <lux-chat-input>
                            <!-- <lux-icon class="chat-layout-default-actions-newmsg-icon lux-color-blue" luxIconName="lux-interface-arrows-button-down" [luxRounded]="true" *ngIf="!chatAutoScroll" (click)="doScrollToBottom(); chatAutoScroll = true;"></lux-icon> -->
                            <!-- <lux-input-ac luxTagId="chatInput" [(luxValue)]="chatInput" [luxAutocomplete]="'off'" [luxNoBottomLabel]="true" 
                                [luxNoTopLabel]="true" (keyup.enter)="onChatEntered()"></lux-input-ac> -->
                            <lux-input-ac [luxNoBottomLabel]="true" [luxNoTopLabel]="true"></lux-input-ac>
                        </lux-chat-input>
                    }
                <!-- </div> -->
            </div>

            <!-- Sidebars right -->
        </div>

        <!-- Sidebars bottom -->
    </div>
</div>

<lux-chat-entry #defaultEntry>

</lux-chat-entry>